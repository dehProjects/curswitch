ARM GAS  /tmp/cco7coNA.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.syntax unified
  15              		.file	"adcextendsum.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.adcextendsum,"ax",%progbits
  20              		.align	2
  21              		.global	adcextendsum
  22              		.thumb
  23              		.thumb_func
  25              	adcextendsum:
  26              	.LFB69:
  27              		.file 1 "Ourtasks/adcextendsum.c"
   1:Ourtasks/adcextendsum.c **** /******************************************************************************
   2:Ourtasks/adcextendsum.c **** * File Name          : adcextendsum.c
   3:Ourtasks/adcextendsum.c **** * Date First Issued  : 07/16/2019
   4:Ourtasks/adcextendsum.c **** * Description        : Sum sums from adcfastsum16.c for long term smoothing and display
   5:Ourtasks/adcextendsum.c **** *******************************************************************************/
   6:Ourtasks/adcextendsum.c **** 
   7:Ourtasks/adcextendsum.c **** #include "adcextendsum.h"
   8:Ourtasks/adcextendsum.c **** #include "adcparams.h"
   9:Ourtasks/adcextendsum.c **** 
  10:Ourtasks/adcextendsum.c **** static uint32_t ctr;
  11:Ourtasks/adcextendsum.c **** 
  12:Ourtasks/adcextendsum.c **** /* *************************************************************************
  13:Ourtasks/adcextendsum.c ****  * void adcextendsum(struct ADCFUNCTION* p);
  14:Ourtasks/adcextendsum.c ****  *	@brief	: Sum the 1/2 DMA sums for greater averaging
  15:Ourtasks/adcextendsum.c ****  * @param	: pcf = pointer to stuct array for ADCs
  16:Ourtasks/adcextendsum.c ****  * *************************************************************************/
  17:Ourtasks/adcextendsum.c **** void adcextendsum(struct ADCFUNCTION* p)
  18:Ourtasks/adcextendsum.c **** {
  28              		.loc 1 18 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              	.LVL0:
  33 0000 F0B5     		push	{r4, r5, r6, r7, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 20
  36              		.cfi_offset 4, -20
  37              		.cfi_offset 5, -16
  38              		.cfi_offset 6, -12
  39              		.cfi_offset 7, -8
  40              		.cfi_offset 14, -4
ARM GAS  /tmp/cco7coNA.s 			page 2


  41              	.LVL1:
  19:Ourtasks/adcextendsum.c **** 	struct ADCCHANNEL* pchan = &p->chan[0];
  20:Ourtasks/adcextendsum.c **** 
  21:Ourtasks/adcextendsum.c **** 	(pchan+0)->xsum[0] += (pchan+0)->sum;
  42              		.loc 1 21 0
  43 0002 B0F824E2 		ldrh	lr, [r0, #548]
  44 0006 D0F82832 		ldr	r3, [r0, #552]
  45 000a 9E44     		add	lr, lr, r3
  46 000c C0F828E2 		str	lr, [r0, #552]
  22:Ourtasks/adcextendsum.c **** 	(pchan+1)->xsum[0] += (pchan+1)->sum;
  47              		.loc 1 22 0
  48 0010 B0F87462 		ldrh	r6, [r0, #628]
  49 0014 D0F87832 		ldr	r3, [r0, #632]
  50 0018 1E44     		add	r6, r6, r3
  51 001a C0F87862 		str	r6, [r0, #632]
  23:Ourtasks/adcextendsum.c **** 	(pchan+2)->xsum[0] += (pchan+2)->sum;
  52              		.loc 1 23 0
  53 001e B0F8C452 		ldrh	r5, [r0, #708]
  54 0022 D0F8C832 		ldr	r3, [r0, #712]
  55 0026 1D44     		add	r5, r5, r3
  56 0028 C0F8C852 		str	r5, [r0, #712]
  24:Ourtasks/adcextendsum.c **** 	(pchan+3)->xsum[0] += (pchan+3)->sum;
  57              		.loc 1 24 0
  58 002c B0F81443 		ldrh	r4, [r0, #788]
  59 0030 D0F81833 		ldr	r3, [r0, #792]
  60 0034 1C44     		add	r4, r4, r3
  61 0036 C0F81843 		str	r4, [r0, #792]
  25:Ourtasks/adcextendsum.c **** 	(pchan+4)->xsum[0] += (pchan+4)->sum;
  62              		.loc 1 25 0
  63 003a B0F86413 		ldrh	r1, [r0, #868]
  64 003e D0F86833 		ldr	r3, [r0, #872]
  65 0042 1944     		add	r1, r1, r3
  66 0044 C0F86813 		str	r1, [r0, #872]
  26:Ourtasks/adcextendsum.c **** 	(pchan+5)->xsum[0] += (pchan+5)->sum;
  67              		.loc 1 26 0
  68 0048 B0F8B423 		ldrh	r2, [r0, #948]
  69 004c D0F8B833 		ldr	r3, [r0, #952]
  70 0050 1A44     		add	r2, r2, r3
  71 0052 C0F8B823 		str	r2, [r0, #952]
  27:Ourtasks/adcextendsum.c **** 
  28:Ourtasks/adcextendsum.c **** 	ctr += 1;
  72              		.loc 1 28 0
  73 0056 144F     		ldr	r7, .L4
  74 0058 3B68     		ldr	r3, [r7]
  75 005a 0133     		adds	r3, r3, #1
  76 005c 3B60     		str	r3, [r7]
  29:Ourtasks/adcextendsum.c **** 	if (ctr >= ADCEXTENDSUMCT)
  77              		.loc 1 29 0
  78 005e B3F5806F 		cmp	r3, #1024
  79 0062 1FD3     		bcc	.L1
  30:Ourtasks/adcextendsum.c **** 	{
  31:Ourtasks/adcextendsum.c **** 		ctr = 0;
  80              		.loc 1 31 0
  81 0064 0023     		movs	r3, #0
  82 0066 3B60     		str	r3, [r7]
  32:Ourtasks/adcextendsum.c **** 		p->idx_xsum ^= 0x1;
  83              		.loc 1 32 0
ARM GAS  /tmp/cco7coNA.s 			page 3


  84 0068 D0F8FC73 		ldr	r7, [r0, #1020]
  85 006c 87F00107 		eor	r7, r7, #1
  86 0070 C0F8FC73 		str	r7, [r0, #1020]
  33:Ourtasks/adcextendsum.c **** 
  34:Ourtasks/adcextendsum.c **** 		(pchan+0)->xsum[1] = (pchan+0)->xsum[0];
  87              		.loc 1 34 0
  88 0074 C0F82CE2 		str	lr, [r0, #556]
  35:Ourtasks/adcextendsum.c **** 		(pchan+1)->xsum[1] = (pchan+1)->xsum[0];
  89              		.loc 1 35 0
  90 0078 C0F87C62 		str	r6, [r0, #636]
  36:Ourtasks/adcextendsum.c **** 		(pchan+2)->xsum[1] = (pchan+2)->xsum[0];
  91              		.loc 1 36 0
  92 007c C0F8CC52 		str	r5, [r0, #716]
  37:Ourtasks/adcextendsum.c **** 		(pchan+3)->xsum[1] = (pchan+3)->xsum[0];
  93              		.loc 1 37 0
  94 0080 C0F81C43 		str	r4, [r0, #796]
  38:Ourtasks/adcextendsum.c **** 		(pchan+4)->xsum[1] = (pchan+4)->xsum[0];
  95              		.loc 1 38 0
  96 0084 C0F86C13 		str	r1, [r0, #876]
  39:Ourtasks/adcextendsum.c **** 		(pchan+5)->xsum[1] = (pchan+5)->xsum[0];
  97              		.loc 1 39 0
  98 0088 C0F8BC23 		str	r2, [r0, #956]
  40:Ourtasks/adcextendsum.c **** 		
  41:Ourtasks/adcextendsum.c **** 		(pchan+0)->xsum[0] = 0;
  99              		.loc 1 41 0
 100 008c C0F82832 		str	r3, [r0, #552]
  42:Ourtasks/adcextendsum.c **** 		(pchan+1)->xsum[0] = 0;
 101              		.loc 1 42 0
 102 0090 C0F87832 		str	r3, [r0, #632]
  43:Ourtasks/adcextendsum.c **** 		(pchan+2)->xsum[0] = 0;
 103              		.loc 1 43 0
 104 0094 C0F8C832 		str	r3, [r0, #712]
  44:Ourtasks/adcextendsum.c **** 		(pchan+3)->xsum[0] = 0;
 105              		.loc 1 44 0
 106 0098 C0F81833 		str	r3, [r0, #792]
  45:Ourtasks/adcextendsum.c **** 		(pchan+4)->xsum[0] = 0;
 107              		.loc 1 45 0
 108 009c C0F86833 		str	r3, [r0, #872]
  46:Ourtasks/adcextendsum.c **** 		(pchan+5)->xsum[0] = 0;
 109              		.loc 1 46 0
 110 00a0 C0F8B833 		str	r3, [r0, #952]
 111              	.L1:
 112 00a4 F0BD     		pop	{r4, r5, r6, r7, pc}
 113              	.L5:
 114 00a6 00BF     		.align	2
 115              	.L4:
 116 00a8 00000000 		.word	.LANCHOR0
 117              		.cfi_endproc
 118              	.LFE69:
 120              		.section	.bss.ctr,"aw",%nobits
 121              		.align	2
 122              		.set	.LANCHOR0,. + 0
 125              	ctr:
 126 0000 00000000 		.space	4
 127              		.text
 128              	.Letext0:
 129              		.file 2 "/home/deh/launchpad/gcc-arm-none-eabi-5_4-2016q3/arm-none-eabi/include/machine/_default_t
ARM GAS  /tmp/cco7coNA.s 			page 4


 130              		.file 3 "/home/deh/launchpad/gcc-arm-none-eabi-5_4-2016q3/arm-none-eabi/include/sys/_stdint.h"
 131              		.file 4 "Ourtasks/iir_filter_lx.h"
 132              		.file 5 "Ourtasks/adc_idx_v_struct.h"
 133              		.file 6 "Ourtasks/adcparams.h"
 134              		.file 7 "Ourtasks/cic_filter_l_N2_M3.h"
 135              		.file 8 "Drivers/CMSIS/Include/core_cm3.h"
ARM GAS  /tmp/cco7coNA.s 			page 5


DEFINED SYMBOLS
                            *ABS*:00000000 adcextendsum.c
     /tmp/cco7coNA.s:20     .text.adcextendsum:00000000 $t
     /tmp/cco7coNA.s:25     .text.adcextendsum:00000000 adcextendsum
     /tmp/cco7coNA.s:116    .text.adcextendsum:000000a8 $d
     /tmp/cco7coNA.s:121    .bss.ctr:00000000 $d
     /tmp/cco7coNA.s:125    .bss.ctr:00000000 ctr
                     .debug_frame:00000010 $d

NO UNDEFINED SYMBOLS
